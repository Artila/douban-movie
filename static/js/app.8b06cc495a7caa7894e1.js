webpackJsonp([1],{"0ojy":function(t,e){},"2jB+":function(t,e,i){t.exports=i.p+"static/img/loading_green.c0f9be0.gif"},"8iRM":function(t,e){function i(){var t=document.querySelector("html"),e=document.body.getBoundingClientRect().width;t.style.fontSize=e/16+"px"}window.addEventListener("resize",i),window.addEventListener("orientationchange",i),i()},"9/Mq":function(t,e){},MZIC:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("XwMK"),a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[t._m(0),t._v(" "),i("div",{staticClass:"m-search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],attrs:{type:"text",placeholder:"请输入搜索内容"},domProps:{value:t.q},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)},input:function(e){e.target.composing||(t.q=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"m-tab"},[i("router-link",{attrs:{to:"/in_theaters"}},[t._v("正在热映")]),t._v(" "),i("router-link",{attrs:{to:"/coming_soon"}},[t._v("即将上映")]),t._v(" "),i("router-link",{attrs:{to:"/top250"}},[t._v("top250")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-header"},[e("span",[this._v("豆瓣电影")])])}]},n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("img",{attrs:{src:i("2jB+"),alt:"loading"}})])}]},o={name:"app",watch:{$route:function(){this.start=0,this.movies="",this.loading=!0}},computed:{start:{get:function(){return this.$store.state.start},set:function(t){this.$store.commit("UPDATE_START",t)}},movies:{get:function(){return this.$store.state.movies},set:function(t){this.$store.commit("UPDATE_MOVIES",t)}},loading:{get:function(){return this.$store.state.loading},set:function(t){this.$store.commit("UPDATE_LOADING",t)}}},components:{MHeader:i("OF7X")({data:function(){return{q:""}},methods:{submit:function(){this.$router.push({path:"/search",query:{q:this.q}})}}},a,!1,function(t){i("0ojy")},"data-v-a362b1e8",null).exports,MLoading:i("OF7X")({},n,!1,function(t){i("WRvh")},"data-v-963d1418",null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("m-header"),this._v(" "),this.loading?e("m-loading"):this._e(),this._v(" "),e("router-view")],1)},staticRenderFns:[]},c=i("OF7X")(o,r,!1,function(t){i("ydmi")},null,null).exports,l=i("zO6J"),v=i("4YfN"),u=i.n(v),_=i("9rMa"),m={created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:u()({},Object(_.b)(["start","count","total","isEnd","movies"])),methods:{fetchData:function(){var t=this.$route.path.split("/")[1]?this.$route.path.split("/")[1]:"in_theaters",e=void 0;e=-1!==t.indexOf("search")?"/api/movie/"+t+"?q="+this.$route.query.q+"&start="+this.start+"&count="+this.count:"/api/movie/"+t+"?start="+this.start+"&count="+this.count,this.$store.dispatch("getMovies",e)},nextPage:function(){this.isEnd||this.fetchData()}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comingSoon"},[t.movies?i("div",{staticClass:"content"},[i("ul",t._l(t.movies,function(e){return i("li",[i("router-link",{staticClass:"item-box",attrs:{to:"/subject/"+e.id}},[i("div",{staticClass:"item-img fl"},[i("img",{attrs:{src:e.images.large,alt:e.title}})]),t._v(" "),i("div",{staticClass:"item-info fl"},[i("h4",[t._v(t._s(e.title))]),t._v(" "),i("i",{staticClass:"score"},[t._v(t._s(e.rating.average))]),t._v(" "),i("p",[i("span",[t._v("类型：")]),t._v(" "),t._l(e.genres,function(e){return i("span",[t._v("\n                  "+t._s(e)+"\n                ")])})],2),t._v(" "),i("p",[i("span",[t._v("导演：")]),t._v(" "),t._l(e.directors,function(e){return i("router-link",{key:e.id,attrs:{to:"/celebrity/"+e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})],2),t._v(" "),i("p",[i("span",[t._v("演员：")]),t._v(" "),t._l(e.casts,function(e){return i("router-link",{key:e.id,attrs:{to:"/celebrity/"+e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})],2),t._v(" "),i("p",[t._v("\n                "+t._s(e.year)+"年作品\n              ")])])])],1)})),t._v(" "),i("div",{staticClass:"waiting",on:{click:t.nextPage}},[t.isEnd?i("span",[t._v("已经没有啦！")]):i("span",[t._v("点击加载下一页内容")])])]):t._e()])},staticRenderFns:[]},h=i("OF7X")(m,d,!1,function(t){i("9/Mq")},"data-v-1f1167b0",null).exports,f={created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:u()({},Object(_.b)(["movie"])),methods:{fetchData:function(){var t="/api/movie"+this.$route.path;this.$store.dispatch("getMovie",t)}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movieDetail"},[t.movie?i("div",{staticClass:"details"},[i("header",{staticClass:"item-box"},[i("div",{staticClass:"item-img fl"},[i("img",{attrs:{src:t.movie.images.large,alt:t.movie.title}})]),t._v(" "),i("div",{staticClass:"item-info fl"},[i("h4",[t._v(t._s(t.movie.title))]),t._v(" "),i("i",{staticClass:"score"},[t._v(t._s(t.movie.rating.average))]),t._v(" "),i("p",[i("span",[t._v("类型：")]),t._v(" "),t._l(t.movie.genres,function(e){return i("span",[t._v("\n              "+t._s(e)+"\n            ")])})],2),t._v(" "),i("p",[i("span",[t._v("别名：")]),t._v(" "),t._l(t.movie.aka,function(e){return i("span",[t._v("\n              "+t._s(e)+"\n            ")])})],2)])]),t._v(" "),i("div",{staticClass:"item-casts grids"},[i("p",[t._v("演职表")]),t._v(" "),i("ul",{staticClass:"clearfix"},[t._l(t.movie.directors,function(e){return i("li",{staticClass:"fl"},[i("router-link",{staticClass:"grid",attrs:{to:"/celebrity/"+e.id}},[i("img",{attrs:{src:e.avatars.large}}),t._v(" "),i("p",[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"small"},[t._v("导演")])])],1)}),t._v(" "),t._l(t.movie.casts,function(e){return i("li",{staticClass:"fl"},[i("router-link",{staticClass:"grid",attrs:{to:"/celebrity/"+e.id}},[i("img",{attrs:{src:e.avatars.large}}),t._v(" "),i("p",[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"small"},[t._v("演员")])])],1)})],2)]),t._v(" "),i("div",{staticClass:"item-summary"},[i("h3",[t._v("剧情简介")]),t._v(" "),i("div",{staticClass:"item-summary-box"},[i("p",[t._v(t._s(t.movie.summary))])])])]):t._e()])},staticRenderFns:[]},g=i("OF7X")(f,p,!1,function(t){i("Tqp8")},"data-v-2c0ac9b7",null).exports,b={created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:u()({},Object(_.b)(["celebrity"]),{aka:function(){return!!this.celebrity.aka_en[0]||!this.celebrity.name_en&&void 0}}),methods:{fetchData:function(){var t="/api/movie"+this.$route.path;this.$store.dispatch("getCelebrity",t)}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"celebrityDetail"},[t.celebrity?i("div",{staticClass:"details"},[i("header",{staticClass:"item-box"},[i("div",{staticClass:"item-img fl"},[i("img",{attrs:{src:t.celebrity.avatars.large,alt:t.celebrity.name}})]),t._v(" "),i("div",{staticClass:"item-info fl"},[i("h4",[t._v(t._s(t.celebrity.name))]),t._v(" "),i("i",{staticClass:"score"},[t._v(t._s(t.celebrity.gender))]),t._v(" "),i("p",[i("span",[t._v("出生地：")]),t._v(" "),i("span",[t._v(t._s(t.celebrity.born_place))])]),t._v(" "),i("p",[i("span",[t._v("其他名字：")]),t._v(" "),t._l(t.celebrity.aka_en,function(e){return t.aka?i("span",[t._v(t._s(e)+" ")]):t._e()}),t._v(" "),t.aka?t._e():i("span",[t._v(t._s(t.celebrity.name_en))])],2),t._v(" "),i("p",[i("router-link",{attrs:{to:""+t.celebrity.mobile_url}},[t._v("豆瓣专题页")])],1)])]),t._v(" "),i("div",{staticClass:"item-works grids"},[i("p",[t._v("代表作品")]),t._v(" "),i("ul",t._l(t.celebrity.works,function(e){return i("li",{staticClass:"fl"},[i("router-link",{staticClass:"grid",attrs:{to:"/subject/"+e.subject.id}},[i("img",{attrs:{src:e.subject.images.large}}),t._v(" "),i("p",[t._v(t._s(e.subject.title))]),t._v(" "),i("p",{staticClass:"small"},t._l(e.roles,function(e){return i("span",[t._v("\n                "+t._s(e)+"\n              ")])}))])],1)}))])]):t._e()])},staticRenderFns:[]},y=i("OF7X")(b,C,!1,function(t){i("MZIC")},"data-v-51933153",null).exports;s.a.use(l.a);var E=new l.a({routes:[{path:"/",name:"ComingSoon",component:h},{path:"/search",component:h},{path:"/in_theaters",component:h},{path:"/coming_soon",component:h},{path:"/top250",component:h},{path:"/subject/:id",component:g},{path:"/celebrity/:id",component:y}]}),$=(i("8iRM"),i("2sCs")),k=i.n($),M=i("MqOw"),x=i.n(M);s.a.use(x.a,k.a),s.a.use(_.a);var O={getMovies:function(t,e){var i=t.commit,a=t.state;s.a.axios.get(e).then(function(t){i("GET_MOVIES",t),a.loading=!1}).catch(function(t){console.log(t),a.loading=!1})},getMovie:function(t,e){var i=t.commit,a=t.state;s.a.axios.get(e).then(function(t){i("GET_MOVIE",t),a.loading=!1}).catch(function(t){console.log(t),a.loading=!1})},getCelebrity:function(t,e){var i=t.commit,a=t.state;s.a.axios.get(e).then(function(t){i("GET_CELEBRITY",t),a.loading=!1}).catch(function(t){console.log(t),a.loading=!1})}},T=new _.a.Store({state:{movies:"",start:0,count:5,total:0,isEnd:!1,movie:"",celebrity:"",loading:!0},getters:{},mutations:{GET_MOVIES:function(t,e){""===t.movies?t.movies=e.data.subjects:t.movies=t.movies.concat(e.data.subjects),t.total=e.data.total,t.start+=5,t.start>t.total&&(t.isEnd=!0)},GET_MOVIE:function(t,e){t.movie=e.data},GET_CELEBRITY:function(t,e){t.celebrity=e.data},UPDATE_START:function(t,e){t.start=e},UPDATE_MOVIES:function(t,e){t.movies=e},UPDATE_LOADING:function(t,e){t.loading=e}},actions:O});s.a.config.productionTip=!1,new s.a({el:"#app",router:E,store:T,template:"<App/>",components:{App:c}})},Tqp8:function(t,e){},WRvh:function(t,e){},ydmi:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8b06cc495a7caa7894e1.js.map